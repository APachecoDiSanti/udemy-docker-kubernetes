# How to run

First build the docker image and tag it:
```sh
docker build -t feedback-node:dev --build-arg DEFAULT_PORT=80 .
```

Then run the container:
```sh
docker run \
--name feedback-app \
-d \
--rm \
-p 80:80 \
-v /app/node_modules \
-v /app/temp \
-v feedback:/app/feedback \
-v $PWD:/app:ro \
feedback-node:dev
```

This will:
1. Name the container.
2. Run in detach mode.
3. Remove the container and delete anonymous volumes after it stops running.
4. Map the host's port 80 to the container's port 80.
5. Create an anonymous volume for node modules.
6. Create an anonymous volume for temporary files generated by the app.
7. Create (or reuse) a named volume for the feedback generated when using the app.
8. Mount a bind volume in read-only mode so we can edit the source code without needing to restart the container.

Note: you may need to manually create the `node_modules` folder if you're getting read-only errors from running the above command.
```
docker: Error response from daemon: failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: error during container init: error mounting "/var/lib/docker/volumes/23d0cdc80064ac7d59358e0de90aa58e93fc8254a7b0f3a401de3ac960d4f302/_data" to rootfs at "/app/node_modules": mkdir /var/lib/docker/overlay2/85383ccb8af4d167f82014d96aeff34ed99d32d3ce245f46d72572f0d6e03b65/merged/app/node_modules: read-only file system: unknown.
```
